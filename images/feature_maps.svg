<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <!-- Title -->
  <text x="400" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">Feature Maps Visualization</text>
  <text x="400" y="55" font-size="14" text-anchor="middle" fill="#666">How each layer extracts different features</text>
  
  <!-- Input Image -->
  <g id="input">
    <text x="100" y="90" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Input Image</text>
    <rect x="40" y="100" width="120" height="120" fill="#f0f0f0" stroke="#666" stroke-width="2" rx="5"/>
    
    <!-- Simple digit "3" representation -->
    <path d="M 60 120 L 140 120 Q 140 145, 120 155 Q 140 165, 140 190 L 60 190" 
          stroke="#333" stroke-width="6" fill="none" stroke-linecap="round"/>
    
    <text x="100" y="240" font-size="11" text-anchor="middle" fill="#666">28×28×1</text>
    <text x="100" y="255" font-size="10" text-anchor="middle" fill="#888">Original digit</text>
  </g>
  
  <!-- Arrow -->
  <path d="M 160 160 L 200 160" stroke="#666" stroke-width="2" marker-end="url(#arrow-fm)"/>
  
  <!-- Layer 1 Feature Maps -->
  <g id="layer1-features">
    <text x="290" y="90" font-size="14" font-weight="bold" text-anchor="middle" fill="#E74C3C">Layer 1 Features</text>
    
    <!-- Feature map 1: Vertical edges -->
    <rect x="220" y="100" width="50" height="50" fill="#fff" stroke="#E74C3C" stroke-width="2" rx="3"/>
    <line x1="230" y1="110" x2="230" y2="140" stroke="#E74C3C" stroke-width="3"/>
    <line x1="245" y1="110" x2="245" y2="140" stroke="#E74C3C" stroke-width="3"/>
    <line x1="260" y1="110" x2="260" y2="140" stroke="#E74C3C" stroke-width="3"/>
    <text x="245" y="165" font-size="9" text-anchor="middle" fill="#E74C3C">Vertical</text>
    <text x="245" y="175" font-size="9" text-anchor="middle" fill="#E74C3C">Edges</text>
    
    <!-- Feature map 2: Horizontal edges -->
    <rect x="280" y="100" width="50" height="50" fill="#fff" stroke="#E74C3C" stroke-width="2" rx="3"/>
    <line x1="290" y1="115" x2="320" y2="115" stroke="#E74C3C" stroke-width="3"/>
    <line x1="290" y1="125" x2="320" y2="125" stroke="#E74C3C" stroke-width="3"/>
    <line x1="290" y1="135" x2="320" y2="135" stroke="#E74C3C" stroke-width="3"/>
    <text x="305" y="165" font-size="9" text-anchor="middle" fill="#E74C3C">Horizontal</text>
    <text x="305" y="175" font-size="9" text-anchor="middle" fill="#E74C3C">Edges</text>
    
    <!-- Feature map 3: Diagonal edges -->
    <rect x="340" y="100" width="50" height="50" fill="#fff" stroke="#E74C3C" stroke-width="2" rx="3"/>
    <line x1="345" y1="145" x2="385" y2="105" stroke="#E74C3C" stroke-width="3"/>
    <line x1="350" y1="145" x2="385" y2="110" stroke="#E74C3C" stroke-width="3"/>
    <text x="365" y="165" font-size="9" text-anchor="middle" fill="#E74C3C">Diagonal</text>
    <text x="365" y="175" font-size="9" text-anchor="middle" fill="#E74C3C">Edges</text>
    
    <!-- Feature map 4: Curves -->
    <rect x="220" y="190" width="50" height="50" fill="#fff" stroke="#E74C3C" stroke-width="2" rx="3"/>
    <path d="M 230 215 Q 245 200, 260 215" stroke="#E74C3C" stroke-width="3" fill="none"/>
    <path d="M 230 225 Q 245 210, 260 225" stroke="#E74C3C" stroke-width="3" fill="none"/>
    <text x="245" y="255" font-size="9" text-anchor="middle" fill="#E74C3C">Curves</text>
    
    <!-- More indicator -->
    <rect x="280" y="190" width="50" height="50" fill="#FFE6E6" stroke="#E74C3C" stroke-width="2" rx="3" stroke-dasharray="5,3"/>
    <text x="305" y="220" font-size="14" text-anchor="middle" fill="#E74C3C" font-weight="bold">...</text>
    <text x="305" y="255" font-size="9" text-anchor="middle" fill="#E74C3C">28 more</text>
    
    <text x="290" y="280" font-size="10" text-anchor="middle" fill="#888">32 feature maps</text>
    <text x="290" y="293" font-size="10" text-anchor="middle" fill="#888">Simple features</text>
  </g>
  
  <!-- Arrow -->
  <path d="M 400 160 L 440 160" stroke="#666" stroke-width="2" marker-end="url(#arrow-fm)"/>
  
  <!-- Layer 2 Feature Maps -->
  <g id="layer2-features">
    <text x="530" y="90" font-size="14" font-weight="bold" text-anchor="middle" fill="#E67E22">Layer 2 Features</text>
    
    <!-- Feature map: Top curve pattern -->
    <rect x="470" y="100" width="50" height="50" fill="#fff" stroke="#E67E22" stroke-width="2" rx="3"/>
    <path d="M 475 135 L 515 135 Q 515 115, 495 110 Q 475 115, 475 135" 
          stroke="#E67E22" stroke-width="3" fill="rgba(230, 126, 34, 0.2)"/>
    <text x="495" y="165" font-size="9" text-anchor="middle" fill="#E67E22">Top</text>
    <text x="495" y="175" font-size="9" text-anchor="middle" fill="#E67E22">Curve</text>
    
    <!-- Feature map: Bottom curve pattern -->
    <rect x="530" y="100" width="50" height="50" fill="#fff" stroke="#E67E22" stroke-width="2" rx="3"/>
    <path d="M 535 115 L 575 115 Q 575 140, 555 145 Q 535 140, 535 115" 
          stroke="#E67E22" stroke-width="3" fill="rgba(230, 126, 34, 0.2)"/>
    <text x="555" y="165" font-size="9" text-anchor="middle" fill="#E67E22">Bottom</text>
    <text x="555" y="175" font-size="9" text-anchor="middle" fill="#E67E22">Curve</text>
    
    <!-- Feature map: S-shape -->
    <rect x="590" y="100" width="50" height="50" fill="#fff" stroke="#E67E22" stroke-width="2" rx="3"/>
    <path d="M 595 115 Q 615 115, 615 125 Q 615 135, 635 135" 
          stroke="#E67E22" stroke-width="3" fill="none"/>
    <path d="M 595 120 Q 615 120, 615 130 Q 615 140, 635 140" 
          stroke="#E67E22" stroke-width="3" fill="none"/>
    <text x="615" y="165" font-size="9" text-anchor="middle" fill="#E67E22">S-Shape</text>
    
    <!-- More indicator -->
    <rect x="500" y="190" width="50" height="50" fill="#FFF5E6" stroke="#E67E22" stroke-width="2" rx="3" stroke-dasharray="5,3"/>
    <text x="525" y="220" font-size="14" text-anchor="middle" fill="#E67E22" font-weight="bold">...</text>
    <text x="525" y="255" font-size="9" text-anchor="middle" fill="#E67E22">60 more</text>
    
    <text x="530" y="280" font-size="10" text-anchor="middle" fill="#888">64 feature maps</text>
    <text x="530" y="293" font-size="10" text-anchor="middle" fill="#888">Patterns & shapes</text>
  </g>
  
  <!-- Arrow -->
  <path d="M 650 160 L 690 160" stroke="#666" stroke-width="2" marker-end="url(#arrow-fm)"/>
  
  <!-- Layer 3 Feature Maps -->
  <g id="layer3-features">
    <text x="740" y="90" font-size="14" font-weight="bold" text-anchor="middle" fill="#27AE60">Layer 3 Features</text>
    
    <!-- Feature map: Complete "3" shape -->
    <rect x="700" y="100" width="80" height="80" fill="#fff" stroke="#27AE60" stroke-width="2" rx="3"/>
    <path d="M 710 120 L 770 120 Q 770 135, 755 142 Q 770 149, 770 165 L 710 165" 
          stroke="#27AE60" stroke-width="4" fill="rgba(39, 174, 96, 0.15)" stroke-linecap="round"/>
    <text x="740" y="195" font-size="9" text-anchor="middle" fill="#27AE60">Complete</text>
    <text x="740" y="205" font-size="9" text-anchor="middle" fill="#27AE60">Digit "3"</text>
    
    <!-- More indicator -->
    <rect x="705" y="220" width="70" height="50" fill="#E8F8F5" stroke="#27AE60" stroke-width="2" rx="3" stroke-dasharray="5,3"/>
    <text x="740" y="250" font-size="14" text-anchor="middle" fill="#27AE60" font-weight="bold">...</text>
    <text x="740" y="265" font-size="9" text-anchor="middle" fill="#27AE60">127 more</text>
    
    <text x="740" y="290" font-size="10" text-anchor="middle" fill="#888">128 feature maps</text>
    <text x="740" y="303" font-size="10" text-anchor="middle" fill="#888">Complex objects</text>
  </g>
  
  <!-- Legend/Explanation -->
  <g id="legend">
    <rect x="50" y="330" width="700" height="55" fill="#F8F9FA" stroke="#ddd" stroke-width="1" rx="5"/>
    <text x="400" y="350" font-size="13" font-weight="bold" text-anchor="middle" fill="#333">Feature Hierarchy</text>
    <text x="400" y="367" font-size="11" text-anchor="middle" fill="#555">
      Layer 1: Simple features (edges, textures) → Layer 2: Patterns & combinations → Layer 3: Complete objects
    </text>
    <text x="400" y="381" font-size="10" text-anchor="middle" fill="#888" font-style="italic">
      Each layer learns increasingly abstract representations of the input
    </text>
  </g>
  
  <!-- Defs -->
  <defs>
    <marker id="arrow-fm" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666" />
    </marker>
  </defs>
</svg>
