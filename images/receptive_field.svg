<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 550">
  <!-- Title -->
  <text x="500" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">Receptive Field Growth</text>
  <text x="500" y="55" font-size="14" text-anchor="middle" fill="#666">How neurons "see" larger portions of the input as depth increases</text>
  
  <!-- Input Image -->
  <g id="input-image">
    <text x="150" y="100" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Input Image (7×7)</text>
    
    <!-- Grid -->
    <rect x="50" y="110" width="200" height="200" fill="#E8F4F8" stroke="#666" stroke-width="2"/>
    <line x1="78.57" y1="110" x2="78.57" y2="310" stroke="#999" stroke-width="1"/>
    <line x1="107.14" y1="110" x2="107.14" y2="310" stroke="#999" stroke-width="1"/>
    <line x1="135.71" y1="110" x2="135.71" y2="310" stroke="#999" stroke-width="1"/>
    <line x1="164.28" y1="110" x2="164.28" y2="310" stroke="#999" stroke-width="1"/>
    <line x1="192.85" y1="110" x2="192.85" y2="310" stroke="#999" stroke-width="1"/>
    <line x1="221.42" y1="110" x2="221.42" y2="310" stroke="#999" stroke-width="1"/>
    
    <line x1="50" y1="138.57" x2="250" y2="138.57" stroke="#999" stroke-width="1"/>
    <line x1="50" y1="167.14" x2="250" y2="167.14" stroke="#999" stroke-width="1"/>
    <line x1="50" y1="195.71" x2="250" y2="195.71" stroke="#999" stroke-width="1"/>
    <line x1="50" y1="224.28" x2="250" y2="224.28" stroke="#999" stroke-width="1"/>
    <line x1="50" y1="252.85" x2="250" y2="252.85" stroke="#999" stroke-width="1"/>
    <line x1="50" y1="281.42" x2="250" y2="281.42" stroke="#999" stroke-width="1"/>
    
    <!-- Center pixel highlight -->
    <rect x="135.71" y="195.71" width="28.57" height="28.57" fill="rgba(231, 76, 60, 0.5)" stroke="#E74C3C" stroke-width="2"/>
    <text x="150" y="215" font-size="12" text-anchor="middle" fill="#fff" font-weight="bold">Target</text>
  </g>
  
  <!-- Layer 1: Conv 3x3 -->
  <g id="layer1">
    <text x="380" y="100" font-size="16" font-weight="bold" text-anchor="middle" fill="#E74C3C">Layer 1: Conv 3×3</text>
    <text x="380" y="120" font-size="12" text-anchor="middle" fill="#666">Receptive Field: 3×3</text>
    
    <!-- Show 3x3 region -->
    <rect x="280" y="140" width="200" height="200" fill="#F8F9FA" stroke="#E74C3C" stroke-width="2"/>
    
    <!-- Grid (5x5 to show context) -->
    <g id="grid1" opacity="0.3">
      <line x1="320" y1="140" x2="320" y2="340" stroke="#ccc" stroke-width="1"/>
      <line x1="360" y1="140" x2="360" y2="340" stroke="#ccc" stroke-width="1"/>
      <line x1="400" y1="140" x2="400" y2="340" stroke="#ccc" stroke-width="1"/>
      <line x1="440" y1="140" x2="440" y2="340" stroke="#ccc" stroke-width="1"/>
      
      <line x1="280" y1="180" x2="480" y2="180" stroke="#ccc" stroke-width="1"/>
      <line x1="280" y1="220" x2="480" y2="220" stroke="#ccc" stroke-width="1"/>
      <line x1="280" y1="260" x2="480" y2="260" stroke="#ccc" stroke-width="1"/>
      <line x1="280" y1="300" x2="480" y2="300" stroke="#ccc" stroke-width="1"/>
    </g>
    
    <!-- 3x3 receptive field -->
    <rect x="320" y="220" width="120" height="120" fill="rgba(231, 76, 60, 0.3)" stroke="#E74C3C" stroke-width="3"/>
    <text x="380" y="285" font-size="14" text-anchor="middle" fill="#E74C3C" font-weight="bold">3×3</text>
    
    <!-- Center neuron -->
    <circle cx="380" cy="370" r="12" fill="#E74C3C" stroke="#fff" stroke-width="2"/>
    <text x="380" y="395" font-size="10" text-anchor="middle" fill="#E74C3C">Neuron 1</text>
    
    <!-- Connection line -->
    <path d="M 380 340 L 380 358" stroke="#E74C3C" stroke-width="2" marker-end="url(#arrow1)"/>
  </g>
  
  <!-- Layer 2: Conv 3x3 -->
  <g id="layer2">
    <text x="600" y="100" font-size="16" font-weight="bold" text-anchor="middle" fill="#E67E22">Layer 2: Conv 3×3</text>
    <text x="600" y="120" font-size="12" text-anchor="middle" fill="#666">Receptive Field: 5×5</text>
    
    <!-- Show 5x5 region -->
    <rect x="500" y="140" width="200" height="200" fill="#F8F9FA" stroke="#E67E22" stroke-width="2"/>
    
    <!-- Grid -->
    <g id="grid2" opacity="0.3">
      <line x1="540" y1="140" x2="540" y2="340" stroke="#ccc" stroke-width="1"/>
      <line x1="580" y1="140" x2="580" y2="340" stroke="#ccc" stroke-width="1"/>
      <line x1="620" y1="140" x2="620" y2="340" stroke="#ccc" stroke-width="1"/>
      <line x1="660" y1="140" x2="660" y2="340" stroke="#ccc" stroke-width="1"/>
      
      <line x1="500" y1="180" x2="700" y2="180" stroke="#ccc" stroke-width="1"/>
      <line x1="500" y1="220" x2="700" y2="220" stroke="#ccc" stroke-width="1"/>
      <line x1="500" y1="260" x2="700" y2="260" stroke="#ccc" stroke-width="1"/>
      <line x1="500" y1="300" x2="700" y2="300" stroke="#ccc" stroke-width="1"/>
    </g>
    
    <!-- 5x5 receptive field -->
    <rect x="540" y="180" width="120" height="120" fill="rgba(230, 126, 34, 0.3)" stroke="#E67E22" stroke-width="3"/>
    <text x="600" y="245" font-size="14" text-anchor="middle" fill="#E67E22" font-weight="bold">5×5</text>
    
    <!-- Center neuron -->
    <circle cx="600" cy="370" r="12" fill="#E67E22" stroke="#fff" stroke-width="2"/>
    <text x="600" y="395" font-size="10" text-anchor="middle" fill="#E67E22">Neuron 2</text>
    
    <!-- Connection -->
    <path d="M 600 300 L 600 358" stroke="#E67E22" stroke-width="2" marker-end="url(#arrow2)"/>
    
    <!-- Connection from previous layer -->
    <path d="M 480 280 L 540 240" stroke="#E74C3C" stroke-width="2" stroke-dasharray="5,5" opacity="0.5"/>
  </g>
  
  <!-- Layer 3: Conv 3x3 -->
  <g id="layer3">
    <text x="820" y="100" font-size="16" font-weight="bold" text-anchor="middle" fill="#27AE60">Layer 3: Conv 3×3</text>
    <text x="820" y="120" font-size="12" text-anchor="middle" fill="#666">Receptive Field: 7×7</text>
    
    <!-- Show full 7x7 region -->
    <rect x="720" y="140" width="200" height="200" fill="#F8F9FA" stroke="#27AE60" stroke-width="2"/>
    
    <!-- Grid -->
    <g id="grid3" opacity="0.3">
      <line x1="748.57" y1="140" x2="748.57" y2="340" stroke="#ccc" stroke-width="1"/>
      <line x1="777.14" y1="140" x2="777.14" y2="340" stroke="#ccc" stroke-width="1"/>
      <line x1="805.71" y1="140" x2="805.71" y2="340" stroke="#ccc" stroke-width="1"/>
      <line x1="834.28" y1="140" x2="834.28" y2="340" stroke="#ccc" stroke-width="1"/>
      <line x1="862.85" y1="140" x2="862.85" y2="340" stroke="#ccc" stroke-width="1"/>
      <line x1="891.42" y1="140" x2="891.42" y2="340" stroke="#ccc" stroke-width="1"/>
      
      <line x1="720" y1="168.57" x2="920" y2="168.57" stroke="#ccc" stroke-width="1"/>
      <line x1="720" y1="197.14" x2="920" y2="197.14" stroke="#ccc" stroke-width="1"/>
      <line x1="720" y1="225.71" x2="920" y2="225.71" stroke="#ccc" stroke-width="1"/>
      <line x1="720" y1="254.28" x2="920" y2="254.28" stroke="#ccc" stroke-width="1"/>
      <line x1="720" y1="282.85" x2="920" y2="282.85" stroke="#ccc" stroke-width="1"/>
      <line x1="720" y1="311.42" x2="920" y2="311.42" stroke="#ccc" stroke-width="1"/>
    </g>
    
    <!-- Full 7x7 receptive field -->
    <rect x="720" y="140" width="200" height="200" fill="rgba(39, 174, 96, 0.3)" stroke="#27AE60" stroke-width="3"/>
    <text x="820" y="245" font-size="14" text-anchor="middle" fill="#27AE60" font-weight="bold">7×7</text>
    <text x="820" y="265" font-size="11" text-anchor="middle" fill="#27AE60">Entire image!</text>
    
    <!-- Center neuron -->
    <circle cx="820" cy="370" r="12" fill="#27AE60" stroke="#fff" stroke-width="2"/>
    <text x="820" y="395" font-size="10" text-anchor="middle" fill="#27AE60">Neuron 3</text>
    
    <!-- Connection -->
    <path d="M 820 340 L 820 358" stroke="#27AE60" stroke-width="2" marker-end="url(#arrow3)"/>
    
    <!-- Connection from previous layer -->
    <path d="M 700 240 L 760 200" stroke="#E67E22" stroke-width="2" stroke-dasharray="5,5" opacity="0.5"/>
  </g>
  
  <!-- Bottom explanation -->
  <g id="explanation">
    <rect x="50" y="420" width="900" height="110" fill="#F8F9FA" stroke="#3498DB" stroke-width="2" rx="10"/>
    <text x="500" y="445" font-size="16" font-weight="bold" text-anchor="middle" fill="#3498DB">Receptive Field Formula</text>
    
    <text x="70" y="470" font-size="13" fill="#555">Receptive Field Growth:</text>
    <text x="70" y="490" font-size="12" fill="#666">• Layer 1: 3×3 kernel → RF = 3×3 (sees local edges, textures)</text>
    <text x="70" y="508" font-size="12" fill="#666">• Layer 2: 3×3 kernel → RF = 5×5 (sees patterns, combinations)</text>
    <text x="70" y="526" font-size="12" fill="#666">• Layer 3: 3×3 kernel → RF = 7×7 (sees complete objects, context)</text>
    
    <text x="600" y="470" font-size="13" fill="#555" font-weight="bold">Formula:</text>
    <text x="600" y="492" font-size="12" fill="#666" font-family="monospace">RF(l+1) = RF(l) + (k-1) × ∏stride(i)</text>
    <text x="600" y="510" font-size="11" fill="#888">k = kernel size, l = layer</text>
    <text x="600" y="526" font-size="11" fill="#888">Pooling doubles the receptive field growth rate</text>
  </g>
  
  <!-- Arrows between layers -->
  <path d="M 260 240 L 280 240" stroke="#666" stroke-width="2" marker-end="url(#arrow-main)"/>
  <path d="M 480 240 L 500 240" stroke="#666" stroke-width="2" marker-end="url(#arrow-main)"/>
  <path d="M 700 240 L 720 240" stroke="#666" stroke-width="2" marker-end="url(#arrow-main)"/>
  
  <!-- Defs -->
  <defs>
    <marker id="arrow1" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#E74C3C" />
    </marker>
    <marker id="arrow2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#E67E22" />
    </marker>
    <marker id="arrow3" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#27AE60" />
    </marker>
    <marker id="arrow-main" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666" />
    </marker>
  </defs>
</svg>
