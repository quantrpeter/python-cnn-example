<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <!-- Title -->
  <text x="400" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">Convolution Operation</text>
  
  <!-- Input Image -->
  <g id="input">
    <text x="100" y="70" font-size="16" font-weight="bold" fill="#333">Input (5×5)</text>
    <rect x="40" y="80" width="200" height="200" fill="none" stroke="#666" stroke-width="2"/>
    <!-- Grid lines -->
    <line x1="40" y1="120" x2="240" y2="120" stroke="#ccc" stroke-width="1"/>
    <line x1="40" y1="160" x2="240" y2="160" stroke="#ccc" stroke-width="1"/>
    <line x1="40" y1="200" x2="240" y2="200" stroke="#ccc" stroke-width="1"/>
    <line x1="40" y1="240" x2="240" y2="240" stroke="#ccc" stroke-width="1"/>
    <line x1="80" y1="80" x2="80" y2="280" stroke="#ccc" stroke-width="1"/>
    <line x1="120" y1="80" x2="120" y2="280" stroke="#ccc" stroke-width="1"/>
    <line x1="160" y1="80" x2="160" y2="280" stroke="#ccc" stroke-width="1"/>
    <line x1="200" y1="80" x2="200" y2="280" stroke="#ccc" stroke-width="1"/>
    
    <!-- Values -->
    <text x="60" y="108" font-size="14" text-anchor="middle" fill="#333">1</text>
    <text x="100" y="108" font-size="14" text-anchor="middle" fill="#333">2</text>
    <text x="140" y="108" font-size="14" text-anchor="middle" fill="#333">3</text>
    <text x="180" y="108" font-size="14" text-anchor="middle" fill="#333">4</text>
    <text x="220" y="108" font-size="14" text-anchor="middle" fill="#333">5</text>
    
    <text x="60" y="148" font-size="14" text-anchor="middle" fill="#333">0</text>
    <text x="100" y="148" font-size="14" text-anchor="middle" fill="#333">1</text>
    <text x="140" y="148" font-size="14" text-anchor="middle" fill="#333">2</text>
    <text x="180" y="148" font-size="14" text-anchor="middle" fill="#333">3</text>
    <text x="220" y="148" font-size="14" text-anchor="middle" fill="#333">4</text>
    
    <text x="60" y="188" font-size="14" text-anchor="middle" fill="#333">2</text>
    <text x="100" y="188" font-size="14" text-anchor="middle" fill="#333">1</text>
    <text x="140" y="188" font-size="14" text-anchor="middle" fill="#333">0</text>
    <text x="180" y="188" font-size="14" text-anchor="middle" fill="#333">1</text>
    <text x="220" y="188" font-size="14" text-anchor="middle" fill="#333">2</text>
    
    <text x="60" y="228" font-size="14" text-anchor="middle" fill="#333">1</text>
    <text x="100" y="228" font-size="14" text-anchor="middle" fill="#333">2</text>
    <text x="140" y="228" font-size="14" text-anchor="middle" fill="#333">1</text>
    <text x="180" y="228" font-size="14" text-anchor="middle" fill="#333">2</text>
    <text x="220" y="228" font-size="14" text-anchor="middle" fill="#333">1</text>
    
    <text x="60" y="268" font-size="14" text-anchor="middle" fill="#333">0</text>
    <text x="100" y="268" font-size="14" text-anchor="middle" fill="#333">1</text>
    <text x="140" y="268" font-size="14" text-anchor="middle" fill="#333">0</text>
    <text x="180" y="268" font-size="14" text-anchor="middle" fill="#333">1</text>
    <text x="220" y="268" font-size="14" text-anchor="middle" fill="#333">0</text>
    
    <!-- Highlight 3x3 region -->
    <rect x="40" y="80" width="120" height="120" fill="rgba(100, 149, 237, 0.2)" stroke="#4169E1" stroke-width="3"/>
  </g>
  
  <!-- Kernel/Filter -->
  <g id="kernel">
    <text x="340" y="130" font-size="16" font-weight="bold" fill="#333">Kernel (3×3)</text>
    <rect x="280" y="140" width="120" height="120" fill="none" stroke="#E74C3C" stroke-width="2"/>
    <!-- Grid -->
    <line x1="280" y1="180" x2="400" y2="180" stroke="#ccc" stroke-width="1"/>
    <line x1="280" y1="220" x2="400" y2="220" stroke="#ccc" stroke-width="1"/>
    <line x1="320" y1="140" x2="320" y2="260" stroke="#ccc" stroke-width="1"/>
    <line x1="360" y1="140" x2="360" y2="260" stroke="#ccc" stroke-width="1"/>
    
    <!-- Edge detection kernel values -->
    <text x="300" y="168" font-size="14" text-anchor="middle" fill="#E74C3C">-1</text>
    <text x="340" y="168" font-size="14" text-anchor="middle" fill="#E74C3C">-1</text>
    <text x="380" y="168" font-size="14" text-anchor="middle" fill="#E74C3C">-1</text>
    
    <text x="300" y="208" font-size="14" text-anchor="middle" fill="#E74C3C">-1</text>
    <text x="340" y="208" font-size="14" text-anchor="middle" fill="#E74C3C" font-weight="bold">8</text>
    <text x="380" y="208" font-size="14" text-anchor="middle" fill="#E74C3C">-1</text>
    
    <text x="300" y="248" font-size="14" text-anchor="middle" fill="#E74C3C">-1</text>
    <text x="340" y="248" font-size="14" text-anchor="middle" fill="#E74C3C">-1</text>
    <text x="380" y="248" font-size="14" text-anchor="middle" fill="#E74C3C">-1</text>
  </g>
  
  <!-- Multiplication symbol -->
  <text x="430" y="210" font-size="40" font-weight="bold" fill="#666">⊗</text>
  
  <!-- Output Feature Map -->
  <g id="output">
    <text x="600" y="70" font-size="16" font-weight="bold" fill="#333">Output (3×3)</text>
    <rect x="540" y="80" width="120" height="120" fill="none" stroke="#27AE60" stroke-width="2"/>
    <!-- Grid -->
    <line x1="540" y1="120" x2="660" y2="120" stroke="#ccc" stroke-width="1"/>
    <line x1="540" y1="160" x2="660" y2="160" stroke="#ccc" stroke-width="1"/>
    <line x1="580" y1="80" x2="580" y2="200" stroke="#ccc" stroke-width="1"/>
    <line x1="620" y1="80" x2="620" y2="200" stroke="#ccc" stroke-width="1"/>
    
    <!-- Output values -->
    <text x="560" y="108" font-size="14" text-anchor="middle" fill="#27AE60" font-weight="bold">4</text>
    <text x="600" y="108" font-size="14" text-anchor="middle" fill="#27AE60">-2</text>
    <text x="640" y="108" font-size="14" text-anchor="middle" fill="#27AE60">1</text>
    
    <text x="560" y="148" font-size="14" text-anchor="middle" fill="#27AE60">-3</text>
    <text x="600" y="148" font-size="14" text-anchor="middle" fill="#27AE60">6</text>
    <text x="640" y="148" font-size="14" text-anchor="middle" fill="#27AE60">-1</text>
    
    <text x="560" y="188" font-size="14" text-anchor="middle" fill="#27AE60">2</text>
    <text x="600" y="188" font-size="14" text-anchor="middle" fill="#27AE60">0</text>
    <text x="640" y="188" font-size="14" text-anchor="middle" fill="#27AE60">3</text>
  </g>
  
  <!-- Formula explanation -->
  <g id="formula">
    <rect x="40" y="310" width="720" height="70" fill="#f8f9fa" stroke="#ddd" stroke-width="1" rx="5"/>
    <text x="400" y="335" font-size="14" text-anchor="middle" fill="#333" font-weight="bold">Element-wise multiplication and sum:</text>
    <text x="400" y="355" font-size="13" text-anchor="middle" fill="#555">(1×-1) + (2×-1) + (3×-1) + (0×-1) + (1×8) + (2×-1) + (2×-1) + (1×-1) + (0×-1) = 4</text>
    <text x="400" y="372" font-size="12" text-anchor="middle" fill="#777" font-style="italic">The kernel slides across the input to compute each output value</text>
  </g>
</svg>
